@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

@if(User.Identity.IsAuthenticated)
{
 @model IEnumerable<Employee>;
 <partial name="_navbarCommon"/>


 

 <div class="container">

   <div class="row">
         <div class="col-sm-4">
             <a class="btn btn-lg btn-outline-secondary mt-4 mx-3" asp-action="AddEmployees" asp-controller="HR">Add Employees</a>
                <a class="btn btn-lg btn-outline-secondary mt-4 mx-3" asp-action="AddCompetencies" asp-controller="HR"> Add Competencies</a>
         </div>

         <div class="col-sm-8">

                @if (TempData["Edited"] != null)
                {
                    <p class="text-success"><b>@TempData["Edited"]</b></p>
                }

                @if (ViewBag.EmployeeList != null)
                {
                    <input class="form-control" id="myInput" type="text" placeholder="Search..">
                    <table class="table table-striped" id="myTable">
        <thead>
            <tr>
                <th scope="col">Employee ID</th>
                <th scope="col">Name</th>
                <th scope="col">Email</th>
                <th scope="col">Designation</th>
                <th scope="col">Manager ID</th>
                <th scope="col">Actions </th>
            </tr>
        </thead>
        <tbody>
                @foreach (var item in @ViewBag.EmployeeList)
                    {
                        <partial name="_employeeList" model="@item"/>
                    }
                        </tbody>
                    </table>

                }else
                {
                    <h3 class="mt-4">No Employee Exist..</h3>
                    <hr />
                }

         

         </div>
   </div>


 </div>


 @section Scripts{
     <script>
        $(document).ready(function () {
            $("#myInput").on("keyup", function () {
                var value = $(this).val().toLowerCase();
                $("#myTable tr").filter(function () {
                    $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                });
            });
        });
     </script>
 }
}
else
{
    <h1>You Are Not Authenticated</h1>
}


       